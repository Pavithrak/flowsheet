<html>
<script type="text/javascript" src="scripts/jquery-1.4.2.min.js"></script>
<script type="text/javascript" src="../../main/webapp/resources/grid.locale-en.js"></script>
<script type="text/javascript" src="scripts/jquery-ui.custom.min.js"></script>
<script type="text/javascript" src="../../main/webapp/resources/jquery.jqGrid.min.js"></script>

<script type="text/javascript" src="../../main/webapp/resources/flowsheet.js"></script>
<script type="text/javascript" src="scripts/test/sampleFlowsheetData.js"></script>

<link rel="stylesheet" type="text/css" media="screen" href="../../main/webapp/resources/ui.jqgrid.css"/>
<link rel="stylesheet" type="text/css" media="screen" href="scripts/jquery-ui.custom.css"/>


<link rel="stylesheet" href="../../main/webapp/resources/jslider.css" type="text/css">
<script type="text/javascript" src="../../main/webapp/resources/jquery.dependClass.js"></script>
<script type="text/javascript" src="../../main/webapp/resources/jquery.slider-min.js"></script>
<!--<script type="text/javascript" src="scripts/test/debugMode/jquery.slider.js"></script>-->



<table>
    <tr>
        <td>
            <table>
                <tr>
                    <td>

                        <div class="layout-slider" style="width: 100%">
                             <span style="display: inline-block; width: 400px; padding: 0 5px;">
                            <input id="Slider1" type="slider" name="price"  /></span>
                           </div>

                    </td>
                </tr>
            </table>

        </td>
        <td>
            <table id="flowsheet" width="500px;float:right">
            </table>

        </td>
</table>


<script type="text/javascript">
    var gridTableId = "flowsheet";
    var flowsheetObj = new Flowsheet(gridTableId);
    var flowsheetData = null;
    flowsheetData = new FlowsheetData(SampleFlowsheetData());

    var onChangeHandler = function(from, to) {
        var entries = flowsheetData.filterEntriesByDate(from, to);
        jQuery("#"+gridTableId).GridUnload();
        flowsheetObj.render(entries);
    }



    var slider = new DateRangeSlider(jQuery("#Slider1"), onChangeHandler);
    flowsheetObj.render(flowsheetData.entries);
    slider.render(flowsheetData.getDateRange(), "Slider1");


</script>


</html>