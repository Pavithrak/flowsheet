<html>
<script type="text/javascript" src="scripts/jquery-1.4.2.min.js"></script>
<script type="text/javascript" src="../../main/webapp/resources/grid.locale-en.js"></script>
<script type="text/javascript" src="scripts/jquery-ui.custom.min.js"></script>
<script type="text/javascript" src="../../main/webapp/resources/jquery.jqGrid.min.js"></script>

<script type="text/javascript" src="../../main/webapp/resources/flowsheet.js"></script>
<script type="text/javascript" src="scripts/test/sampleFlowsheetData.js"></script>

<link rel="stylesheet" type="text/css" media="screen" href="../../main/webapp/resources/ui.jqgrid.css"/>
<link rel="stylesheet" type="text/css" media="screen" href="scripts/jquery-ui.custom.css"/>

<table>
    <tr>
        <td>
            <table>
                <tr>
                    <td>
                        <label for="dateFilter">Date range:</label>
                        <input type="text" id="dateFilter" style="border:0; color:#f6931f; font-weight:bold;"/>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div id="slider" style="width:300px;float:left">

                        </div>
                    </td>
                </tr>
            </table>

        </td>
        <td>
            <table id="flowsheet" width="500px;float:right">
            </table>

        </td>
</table>


<script type="text/javascript">
    var gridTableId = "flowsheet";
    var flowsheetObj = new Flowsheet(gridTableId);
    var flowsheetData = null;
    flowsheetData = new FlowsheetData(SampleFlowsheetData());

    var onChangeHandler = function(from, to) {
        var entries = flowsheetData.filterEntriesByDate(from, to);
        jQuery("#"+gridTableId).GridUnload();
        flowsheetObj.render(entries);
    }



    var slider = new DateRangeSlider(jQuery("#slider"), onChangeHandler);
    flowsheetObj.render(flowsheetData.entries);
    slider.render(flowsheetData.getDateRange(), "dateFilter");


</script>
</html>